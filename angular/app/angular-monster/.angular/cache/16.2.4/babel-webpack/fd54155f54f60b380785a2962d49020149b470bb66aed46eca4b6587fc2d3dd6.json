{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProductListComponent = class ProductListComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.pageTitle = 'Product List!';\n    this.imageWidth = 50;\n    this.imageMargin = 2;\n    this.showImage = false;\n    this._listFilter = '';\n    this.filteredProducts = [];\n    this.errorMessage = '';\n    this.products = [];\n  }\n  get listFilter() {\n    return this._listFilter;\n  }\n  set listFilter(value) {\n    this._listFilter = value;\n    console.log('In setter:', value);\n    this.filteredProducts = this.performFilter(value);\n  }\n  performFilter(filterBy) {\n    filterBy = filterBy.toLocaleLowerCase();\n    return this.products.filter(product => product.monsterName.toLocaleLowerCase().includes(filterBy));\n  }\n  toggleImage() {\n    this.showImage = !this.showImage;\n  }\n  ngOnInit() {\n    this.sub = this.productService.getProducts().subscribe({\n      next: products => {\n        this.products = products;\n        this.filteredProducts = this.products;\n      },\n      error: err => this.errorMessage = err\n    });\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n  onRatingClicked(message) {\n    this.pageTitle = 'Product List: ' + message;\n  }\n};\nProductListComponent = __decorate([Component({\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})], ProductListComponent);","map":{"version":3,"names":["Component","ProductListComponent","constructor","productService","pageTitle","imageWidth","imageMargin","showImage","_listFilter","filteredProducts","errorMessage","products","listFilter","value","console","log","performFilter","filterBy","toLocaleLowerCase","filter","product","monsterName","includes","toggleImage","ngOnInit","sub","getProducts","subscribe","next","error","err","ngOnDestroy","unsubscribe","onRatingClicked","message","__decorate","templateUrl","styleUrls"],"sources":["D:\\dev\\angular-monster\\angular-monster\\src\\app\\monsters\\monster-list.component.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { IMonster } from './monster';\r\nimport { ProductService } from './monster.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({    \r\n    templateUrl: './product-list.component.html',\r\n    styleUrls: ['./product-list.component.css']\r\n})\r\n\r\nexport class ProductListComponent implements OnInit, OnDestroy {\r\n    pageTitle = 'Product List!';\r\n    imageWidth = 50;\r\n    imageMargin = 2;\r\n    showImage = false;\r\n    private _listFilter: string = '';\r\n    filteredProducts: IMonster[] = [];\r\n    errorMessage: string = '';\r\n    sub!: Subscription;\r\n    \r\n\r\n    constructor(private productService: ProductService){}\r\n\r\n    get listFilter(): string{\r\n        return this._listFilter;\r\n    }\r\n\r\n    set listFilter(value: string){\r\n        this._listFilter = value;\r\n        console.log('In setter:', value);\r\n        this.filteredProducts = this.performFilter(value);\r\n    }\r\n\r\n    performFilter(filterBy: string): IMonster[] {\r\n        filterBy = filterBy.toLocaleLowerCase();\r\n        return this.products.filter((product: IMonster) => product.monsterName.toLocaleLowerCase().includes(filterBy));\r\n    }\r\n\r\n    products: IMonster[] = [];\r\n\r\n\r\n    toggleImage(): void {\r\n        this.showImage = !this.showImage;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n      this.sub = this.productService.getProducts().subscribe({\r\n        next: products => {\r\n          this.products = products;\r\n          this.filteredProducts = this.products;\r\n        },    \r\n        error: err => this.errorMessage = err\r\n      });    \r\n         \r\n    }\r\n\r\n    ngOnDestroy(){\r\n      this.sub.unsubscribe();\r\n    }\r\n\r\n    onRatingClicked(message: string): void{\r\n      this.pageTitle = 'Product List: ' + message;\r\n    }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAUrD,WAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAW7BC,YAAoBC,cAA8B;IAA9B,KAAAA,cAAc,GAAdA,cAAc;IAVlC,KAAAC,SAAS,GAAG,eAAe;IAC3B,KAAAC,UAAU,GAAG,EAAE;IACf,KAAAC,WAAW,GAAG,CAAC;IACf,KAAAC,SAAS,GAAG,KAAK;IACT,KAAAC,WAAW,GAAW,EAAE;IAChC,KAAAC,gBAAgB,GAAe,EAAE;IACjC,KAAAC,YAAY,GAAW,EAAE;IAqBzB,KAAAC,QAAQ,GAAe,EAAE;EAjB2B;EAEpD,IAAIC,UAAUA,CAAA;IACV,OAAO,IAAI,CAACJ,WAAW;EAC3B;EAEA,IAAII,UAAUA,CAACC,KAAa;IACxB,IAAI,CAACL,WAAW,GAAGK,KAAK;IACxBC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEF,KAAK,CAAC;IAChC,IAAI,CAACJ,gBAAgB,GAAG,IAAI,CAACO,aAAa,CAACH,KAAK,CAAC;EACrD;EAEAG,aAAaA,CAACC,QAAgB;IAC1BA,QAAQ,GAAGA,QAAQ,CAACC,iBAAiB,EAAE;IACvC,OAAO,IAAI,CAACP,QAAQ,CAACQ,MAAM,CAAEC,OAAiB,IAAKA,OAAO,CAACC,WAAW,CAACH,iBAAiB,EAAE,CAACI,QAAQ,CAACL,QAAQ,CAAC,CAAC;EAClH;EAKAM,WAAWA,CAAA;IACP,IAAI,CAAChB,SAAS,GAAG,CAAC,IAAI,CAACA,SAAS;EACpC;EAEAiB,QAAQA,CAAA;IACN,IAAI,CAACC,GAAG,GAAG,IAAI,CAACtB,cAAc,CAACuB,WAAW,EAAE,CAACC,SAAS,CAAC;MACrDC,IAAI,EAAEjB,QAAQ,IAAG;QACf,IAAI,CAACA,QAAQ,GAAGA,QAAQ;QACxB,IAAI,CAACF,gBAAgB,GAAG,IAAI,CAACE,QAAQ;MACvC,CAAC;MACDkB,KAAK,EAAEC,GAAG,IAAI,IAAI,CAACpB,YAAY,GAAGoB;KACnC,CAAC;EAEJ;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACN,GAAG,CAACO,WAAW,EAAE;EACxB;EAEAC,eAAeA,CAACC,OAAe;IAC7B,IAAI,CAAC9B,SAAS,GAAG,gBAAgB,GAAG8B,OAAO;EAC7C;CACH;AArDYjC,oBAAoB,GAAAkC,UAAA,EALhCnC,SAAS,CAAC;EACPoC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC7C,CAAC,C,EAEWpC,oBAAoB,CAqDhC"},"metadata":{},"sourceType":"module","externalDependencies":[]}